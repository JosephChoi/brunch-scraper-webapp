# 브런치 블로그 텍스트 수집기 PRD
## Product Requirements Document

### 📋 프로젝트 개요

**프로젝트명**: Brunch Text Scraper  
**버전**: v1.0  
**작성일**: 2025년 1월  
**담당자**: Joseph  

---

## 🎯 제품 목표

브런치 블로그에서 연속된 글들을 자동으로 수집하여 하나의 텍스트 파일로 제공하는 웹 애플리케이션 개발

### 핵심 가치 제안
- **시간 절약**: 수동 복사/붙여넣기 작업 자동화
- **편의성**: 웹 브라우저만으로 쉽게 사용 가능
- **완전성**: 우클릭 차단된 사이트에서도 텍스트 추출 가능

---

## 👥 타겟 사용자

### 주요 사용자
- **콘텐츠 연구자**: 브런치 작가들의 연작 시리즈 분석
- **독자**: 연재 소설/에세이를 한번에 읽고 싶은 사용자
- **아카이브 작업자**: 특정 작가의 글 모음 수집

### 사용자 페르소나
- **김독자** (30대, 직장인)
  - 출퇴근 시간에 브런치 연재 소설을 읽음
  - 여러 편을 한번에 다운받아 오프라인에서 읽고 싶음
  - 기술적 지식은 제한적

---

## 🔧 핵심 기능

### 1. URL 입력 및 검증
- **입력**: 브런치 블로그 URL (예: `https://brunch.co.kr/@ssoojeenlee/294`)
- **검증**: 유효한 브런치 URL 형식인지 확인
- **오류 처리**: 잘못된 URL 형식에 대한 사용자 친화적 메시지

### 2. 범위 설정
- **시작 글 번호**: 수집을 시작할 글 번호
- **종료 글 번호**: 수집을 종료할 글 번호
- **유효성 검사**: 시작 번호 ≤ 종료 번호, 양의 정수만 허용

### 3. 자동 스크래핑
- **Playwright 활용**: 우클릭 차단 우회
- **텍스트 추출**: HTML에서 본문 텍스트만 깔끔하게 추출
- **에러 처리**: 존재하지 않는 글, 네트워크 오류 등 처리

### 4. 진행 상황 표시
- **실시간 업데이트**: 현재 처리 중인 글 번호 표시
- **진행률**: 전체 작업 대비 완료율 (%)
- **상태 메시지**: "수집 중...", "완료" 등

### 5. 텍스트 파일 생성 및 다운로드
- **파일 형식**: .txt (UTF-8 인코딩)
- **파일명 규칙**: `brunch_작가명_시작번호-종료번호_날짜.txt`
- **내용 구성**: 각 글 제목 + 본문, 글 간 구분자 추가

---

## 🚀 기술 요구사항

### 프론트엔드
- **프레임워크**: Next.js 15+ (App Router)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **UI 컴포넌트**: 
  - 입력 폼 (URL, 시작/종료 번호)
  - 진행률 바
  - 다운로드 버튼

### 백엔드
- **API Routes**: Next.js API Routes
- **스크래핑**: Playwright (Chromium)
- **텍스트 처리**: Node.js 내장 모듈
- **파일 생성**: 메모리 상에서 즉시 생성

### 성능 요구사항
- **응답 시간**: 글 1개당 평균 2-3초 이내
- **동시 처리**: 단일 요청 처리 (동시성 고려하지 않음)
- **메모리 사용**: 최대 100개 글까지 안정적 처리

---

## 📱 사용자 인터페이스

### 메인 페이지 레이아웃
```
┌─────────────────────────────────────┐
│           브런치 텍스트 수집기        │
├─────────────────────────────────────┤
│ 브런치 URL: [입력창                  ]│
│ 시작 번호:  [___] 종료 번호: [___]   │
│                    [수집 시작] 버튼   │
├─────────────────────────────────────┤
│ 진행 상황: ████████░░ 80% (8/10)    │
│ 상태: 9번 글 수집 중...              │
├─────────────────────────────────────┤
│             [다운로드] 버튼           │
└─────────────────────────────────────┘
```

### 상태별 UI 변화
- **대기 상태**: 입력 폼만 활성화
- **수집 중**: 진행률 바 표시, 입력 폼 비활성화
- **완료**: 다운로드 버튼 활성화, 새 작업 버튼 표시
- **오류**: 오류 메시지 표시, 다시 시도 옵션

---

## 🔄 사용자 플로우

### 기본 플로우
1. **URL 입력**: 브런치 블로그 URL 입력
2. **범위 설정**: 시작/종료 글 번호 입력
3. **수집 시작**: "수집 시작" 버튼 클릭
4. **진행 확인**: 실시간 진행 상황 모니터링
5. **다운로드**: 완료 후 텍스트 파일 다운로드

### 예외 플로우
- **잘못된 URL**: 오류 메시지 + 올바른 형식 예시 제공
- **존재하지 않는 글**: 건너뛰고 다음 글 처리, 최종 결과에 누락 정보 표시
- **네트워크 오류**: 재시도 옵션 제공

---

## ⚠️ 제약사항 및 고려사항

### 법적 고려사항
- **저작권**: 개인 용도로만 사용, 상업적 이용 금지 안내
- **이용약관**: 브런치 서비스 이용약관 준수
- **면책조항**: 사용자 책임 하에 사용 안내

### 기술적 제약사항
- **브런치 사이트 정책**: 과도한 요청 시 IP 차단 가능성
- **메모리 제한**: 대량 텍스트 처리 시 메모리 사용량 증가
- **브라우저 호환성**: 모던 브라우저에서만 동작

### 윤리적 고려사항
- **요청 간격**: 서버 부하 최소화를 위한 적절한 딜레이
- **사용량 제한**: 과도한 사용 방지를 위한 가이드라인

---

## 📈 성공 지표

### 기능적 지표
- **성공률**: 정상적인 텍스트 추출 성공률 95% 이상
- **정확도**: 추출된 텍스트의 원본 대비 정확도 99% 이상
- **안정성**: 연속 사용 시 오류 발생률 5% 이하

### 사용자 경험 지표
- **사용 편의성**: 사용법 이해까지 소요 시간 5분 이내
- **처리 속도**: 글 10개 수집 완료까지 1분 이내
- **오류 복구**: 오류 발생 시 해결 방법 제시

---

## 🗓️ 개발 일정

### Phase 1: 기본 구조 (1주)
- [ ] Next.js 프로젝트 설정 완료
- [ ] 기본 UI 컴포넌트 개발
- [ ] API Route 기본 구조 설계

### Phase 2: 스크래핑 기능 (1-2주)
- [ ] Playwright 스크래핑 로직 구현
- [ ] 텍스트 추출 및 정제 알고리즘
- [ ] 오류 처리 및 재시도 로직

### Phase 3: 통합 및 최적화 (1주)
- [ ] 프론트엔드-백엔드 통합
- [ ] 진행 상황 실시간 업데이트
- [ ] 파일 다운로드 기능 완성

### Phase 4: 테스트 및 배포 (1주)
- [ ] 종합 테스트 및 버그 수정
- [ ] 사용자 가이드 작성
- [ ] Vercel 배포

---

## 🎨 디자인 가이드라인

### 색상 팔레트
- **Primary**: 브런치 브랜드 컬러 (#FF6B35)
- **Secondary**: 차분한 그레이 (#6B7280)
- **Success**: 녹색 (#10B981)
- **Error**: 빨간색 (#EF4444)

### 타이포그래피
- **제목**: font-bold, text-2xl
- **본문**: font-normal, text-base
- **캡션**: font-light, text-sm

### 컴포넌트 스타일
- **버튼**: 둥근 모서리, 호버 효과
- **입력창**: 테두리 강조, 포커스 상태 표시
- **진행바**: 애니메이션 효과

---

## 📚 참고 자료

### 기술 문서
- [Next.js 공식 문서](https://nextjs.org/docs)
- [Playwright 문서](https://playwright.dev/)
- [Tailwind CSS 문서](https://tailwindcss.com/docs)

### 브런치 관련
- [브런치 이용약관](https://brunch.co.kr/terms)
- 브런치 URL 패턴 분석 결과
- 스크래핑 테스트 결과

---

*이 문서는 프로젝트 진행에 따라 지속적으로 업데이트됩니다.*
